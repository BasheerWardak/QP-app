<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search and Filter - Super Scheduler</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fsupersche6116back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Header Navigation -->
    <header class="bg-surface border-b border-slate-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Brand -->
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <svg class="w-8 h-8 text-primary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                        </svg>
                        <h1 class="text-xl font-semibold text-text-primary">Super Scheduler</h1>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="calendar_dashboard.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-calendar-alt mr-2"></i>Dashboard
                    </a>
                    <a href="task_management.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-tasks mr-2"></i>Tasks
                    </a>
                    <a href="search_and_filter.html" class="text-primary font-medium px-3 py-2 rounded-md bg-primary-50">
                        <i class="fas fa-search mr-2"></i>Search
                    </a>
                    <a href="settings_and_preferences.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-cog mr-2"></i>Settings
                    </a>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="md:hidden p-2 rounded-md text-text-secondary hover:text-primary hover:bg-slate-50" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>

            <!-- Mobile Navigation Menu -->
            <div id="mobileMenu" class="md:hidden hidden border-t border-slate-200 py-4">
                <div class="flex flex-col space-y-2">
                    <a href="calendar_dashboard.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-calendar-alt mr-2"></i>Dashboard
                    </a>
                    <a href="task_management.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-tasks mr-2"></i>Tasks
                    </a>
                    <a href="search_and_filter.html" class="text-primary font-medium px-3 py-2 rounded-md bg-primary-50">
                        <i class="fas fa-search mr-2"></i>Search
                    </a>
                    <a href="settings_and_preferences.html" class="text-text-secondary hover:text-primary px-3 py-2 rounded-md hover:bg-slate-50 transition-colors">
                        <i class="fas fa-cog mr-2"></i>Settings
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- Page Header -->
        <div class="mb-6">
            <h2 class="text-2xl font-semibold text-text-primary mb-2">Search & Filter</h2>
            <p class="text-text-secondary">Find events and tasks quickly with advanced search and filtering options</p>
        </div>

        <div class="flex flex-col lg:flex-row gap-6">
            <!-- Search and Filter Sidebar -->
            <aside class="lg:w-80 order-2 lg:order-1">
                <!-- Search Section -->
                <div class="card p-6 mb-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4 flex items-center">
                        <i class="fas fa-search text-primary mr-2"></i>
                        Search
                    </h3>
                    <div class="relative mb-4">
                        <input type="text" id="searchInput" placeholder="Search events and tasks..." class="form-input pl-10 pr-10" oninput="performSearch()" onkeydown="handleSearchKeydown(event)" />
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary"></i>
                        <button id="clearSearch" onclick="clearSearch()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-text-secondary hover:text-primary hidden">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <!-- Search Suggestions -->
                    <div id="searchSuggestions" class="hidden bg-surface border border-slate-200 rounded-md shadow-lg absolute z-10 w-full mt-1">
                        <div class="p-2 space-y-1">
                            <div class="px-3 py-2 hover:bg-slate-50 cursor-pointer rounded text-sm" onclick="selectSuggestion('meeting')">
                                <i class="fas fa-search mr-2 text-text-secondary"></i>meeting
                            </div>
                            <div class="px-3 py-2 hover:bg-slate-50 cursor-pointer rounded text-sm" onclick="selectSuggestion('project')">
                                <i class="fas fa-search mr-2 text-text-secondary"></i>project
                            </div>
                            <div class="px-3 py-2 hover:bg-slate-50 cursor-pointer rounded text-sm" onclick="selectSuggestion('appointment')">
                                <i class="fas fa-search mr-2 text-text-secondary"></i>appointment
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Filters -->
                <div class="card p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-text-primary flex items-center">
                            <i class="fas fa-filter text-secondary mr-2"></i>
                            Filters
                        </h3>
                        <button onclick="clearAllFilters()" class="text-sm text-primary hover:text-primary-700">
                            Clear All
                        </button>
                    </div>

                    <!-- Date Range Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Date Range</label>
                        <div class="space-y-2">
                            <div class="grid grid-cols-2 gap-2">
                                <input type="date" id="startDate" class="form-input text-sm" onchange="applyFilters()" />
                                <input type="date" id="endDate" class="form-input text-sm" onchange="applyFilters()" />
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setDateRange('today')" class="px-3 py-1 text-xs bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 transition-colors">
                                    Today
                                </button>
                                <button onclick="setDateRange('week')" class="px-3 py-1 text-xs bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 transition-colors">
                                    This Week
                                </button>
                                <button onclick="setDateRange('month')" class="px-3 py-1 text-xs bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 transition-colors">
                                    This Month
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Category Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Categories</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                <span class="text-sm text-text-primary">Work</span>
                                <span class="text-xs text-text-secondary ml-auto">12</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                <span class="text-sm text-text-primary">Personal</span>
                                <span class="text-xs text-text-secondary ml-auto">8</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                <span class="text-sm text-text-primary">Health</span>
                                <span class="text-xs text-text-secondary ml-auto">3</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                                <span class="text-sm text-text-primary">Social</span>
                                <span class="text-xs text-text-secondary ml-auto">5</span>
                            </label>
                        </div>
                    </div>

                    <!-- Type Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Type</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <i class="fas fa-calendar-alt text-accent w-4"></i>
                                <span class="text-sm text-text-primary">Events</span>
                                <span class="text-xs text-text-secondary ml-auto">18</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <i class="fas fa-tasks text-warning w-4"></i>
                                <span class="text-sm text-text-primary">Tasks</span>
                                <span class="text-xs text-text-secondary ml-auto">10</span>
                            </label>
                        </div>
                    </div>

                    <!-- Status Filter -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-text-primary mb-2">Status</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-success rounded-full"></div>
                                <span class="text-sm text-text-primary">Completed</span>
                                <span class="text-xs text-text-secondary ml-auto">15</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-warning rounded-full"></div>
                                <span class="text-sm text-text-primary">Pending</span>
                                <span class="text-xs text-text-secondary ml-auto">8</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" checked class="w-4 h-4 text-primary" onchange="applyFilters()" />
                                <div class="w-3 h-3 bg-error rounded-full"></div>
                                <span class="text-sm text-text-primary">Overdue</span>
                                <span class="text-xs text-text-secondary ml-auto">5</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Saved Searches -->
                <div class="card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4 flex items-center">
                        <i class="fas fa-bookmark text-accent mr-2"></i>
                        Saved Searches
                    </h3>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between p-2 hover:bg-slate-50 rounded cursor-pointer" onclick="loadSavedSearch('work-meetings')">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-search text-text-secondary text-sm"></i>
                                <span class="text-sm text-text-primary">Work Meetings</span>
                            </div>
                            <button onclick="deleteSavedSearch('work-meetings', event)" class="text-text-secondary hover:text-error">
                                <i class="fas fa-times text-xs"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-2 hover:bg-slate-50 rounded cursor-pointer" onclick="loadSavedSearch('health-appointments')">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-search text-text-secondary text-sm"></i>
                                <span class="text-sm text-text-primary">Health Appointments</span>
                            </div>
                            <button onclick="deleteSavedSearch('health-appointments', event)" class="text-text-secondary hover:text-error">
                                <i class="fas fa-times text-xs"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-2 hover:bg-slate-50 rounded cursor-pointer" onclick="loadSavedSearch('overdue-tasks')">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-search text-text-secondary text-sm"></i>
                                <span class="text-sm text-text-primary">Overdue Tasks</span>
                            </div>
                            <button onclick="deleteSavedSearch('overdue-tasks', event)" class="text-text-secondary hover:text-error">
                                <i class="fas fa-times text-xs"></i>
                            </button>
                        </div>
                    </div>
                    <button onclick="saveCurrentSearch()" class="w-full mt-4 text-sm text-primary hover:text-primary-700 font-medium">
                        <i class="fas fa-plus mr-2"></i>Save Current Search
                    </button>
                </div>
            </aside>

            <!-- Search Results -->
            <main class="flex-1 order-1 lg:order-2">
                <!-- Results Header -->
                <div class="card p-6 mb-6">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <div class="flex items-center space-x-4">
                            <h3 class="text-lg font-semibold text-text-primary">
                                Search Results
                                <span id="resultCount" class="text-sm font-normal text-text-secondary ml-2">(28 items)</span>
                            </h3>
                        </div>
                        
                        <!-- View Toggle and Sort -->
                        <div class="flex items-center space-x-4">
                            <!-- Sort Options -->
                            <div class="flex items-center space-x-2">
                                <label class="text-sm text-text-secondary">Sort by:</label>
                                <select id="sortBy" class="form-input text-sm w-auto" onchange="sortResults()">
                                    <option value="relevance">Relevance</option>
                                    <option value="date">Date</option>
                                    <option value="category">Category</option>
                                    <option value="title">Title</option>
                                </select>
                            </div>

                            <!-- View Toggle -->
                            <div class="flex items-center space-x-2 bg-slate-100 rounded-lg p-1">
                                <button onclick="changeView('list')" class="view-btn active px-3 py-2 text-sm font-medium rounded-md transition-colors">
                                    <i class="fas fa-list mr-1"></i>List
                                </button>
                                <button onclick="changeView('timeline')" class="view-btn px-3 py-2 text-sm font-medium rounded-md transition-colors">
                                    <i class="fas fa-clock mr-1"></i>Timeline
                                </button>
                                <button onclick="changeView('compact')" class="view-btn px-3 py-2 text-sm font-medium rounded-md transition-colors">
                                    <i class="fas fa-th-list mr-1"></i>Compact
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Active Filters Display -->
                    <div id="activeFilters" class="flex flex-wrap gap-2 mt-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-xs bg-primary-100 text-primary-700">
                            Work Category
                            <button onclick="removeFilter('category', 'work')" class="ml-2 text-primary-500 hover:text-primary-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-xs bg-accent-100 text-accent-700">
                            This Week
                            <button onclick="removeFilter('date', 'week')" class="ml-2 text-accent-500 hover:text-accent-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </span>
                    </div>
                </div>

                <!-- Search Results List -->
                <div id="searchResults" class="space-y-4">
                    <!-- Result Item 1 -->
                    <div class="card p-6 hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                    <span class="text-xs text-text-secondary uppercase tracking-wide">Work Event</span>
                                    <span class="text-xs text-text-secondary">•</span>
                                    <span class="text-xs text-text-secondary">Oct 1, 2025 at 9:00 AM</span>
                                </div>
                                <h4 class="text-lg font-medium text-text-primary mb-2">
                                    Client <mark class="bg-yellow-200 px-1 rounded">Meeting</mark> - Q4 Review
                                </h4>
                                <p class="text-sm text-text-secondary mb-3">
                                    Quarterly business review with key stakeholders to discuss performance metrics and upcoming initiatives.
                                </p>
                                <div class="flex items-center space-x-4 text-xs text-text-secondary">
                                    <span><i class="fas fa-clock mr-1"></i>2 hours</span>
                                    <span><i class="fas fa-map-marker-alt mr-1"></i>Conference Room A</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full bg-error-100 text-error-700">
                                        <i class="fas fa-exclamation-triangle mr-1"></i>Conflict
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                <button onclick="editItem('event-1')" class="p-2 text-text-secondary hover:text-primary hover:bg-slate-50 rounded-md transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="viewItem('event-1')" class="p-2 text-text-secondary hover:text-accent hover:bg-slate-50 rounded-md transition-colors" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button onclick="deleteItem('event-1')" class="p-2 text-text-secondary hover:text-error hover:bg-slate-50 rounded-md transition-colors" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Result Item 2 -->
                    <div class="card p-6 hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                    <span class="text-xs text-text-secondary uppercase tracking-wide">Personal Task</span>
                                    <span class="text-xs text-text-secondary">•</span>
                                    <span class="text-xs text-text-secondary">Due: Oct 2, 2025</span>
                                </div>
                                <h4 class="text-lg font-medium text-text-primary mb-2">
                                    <mark class="bg-yellow-200 px-1 rounded">Project</mark> Presentation Preparation
                                </h4>
                                <p class="text-sm text-text-secondary mb-3">
                                    Prepare slides and talking points for the quarterly project review presentation.
                                </p>
                                <div class="flex items-center space-x-4 text-xs text-text-secondary">
                                    <span><i class="fas fa-tasks mr-1"></i>Task</span>
                                    <span><i class="fas fa-flag mr-1"></i>High Priority</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full bg-warning-100 text-warning-700">
                                        <i class="fas fa-clock mr-1"></i>Due Soon
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                <button onclick="editItem('task-1')" class="p-2 text-text-secondary hover:text-primary hover:bg-slate-50 rounded-md transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="viewItem('task-1')" class="p-2 text-text-secondary hover:text-accent hover:bg-slate-50 rounded-md transition-colors" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button onclick="completeTask('task-1')" class="p-2 text-text-secondary hover:text-success hover:bg-slate-50 rounded-md transition-colors" title="Mark Complete">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Result Item 3 -->
                    <div class="card p-6 hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span class="text-xs text-text-secondary uppercase tracking-wide">Health Event</span>
                                    <span class="text-xs text-text-secondary">•</span>
                                    <span class="text-xs text-text-secondary">Oct 7, 2025 at 11:00 AM</span>
                                </div>
                                <h4 class="text-lg font-medium text-text-primary mb-2">
                                    Doctor <mark class="bg-yellow-200 px-1 rounded">Appointment</mark> - Annual Checkup
                                </h4>
                                <p class="text-sm text-text-secondary mb-3">
                                    Annual physical examination and health screening with Dr. Sarah Johnson.
                                </p>
                                <div class="flex items-center space-x-4 text-xs text-text-secondary">
                                    <span><i class="fas fa-clock mr-1"></i>1 hour</span>
                                    <span><i class="fas fa-map-marker-alt mr-1"></i>Medical Center</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full bg-success-100 text-success-700">
                                        <i class="fas fa-check mr-1"></i>Confirmed
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                <button onclick="editItem('event-2')" class="p-2 text-text-secondary hover:text-primary hover:bg-slate-50 rounded-md transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="viewItem('event-2')" class="p-2 text-text-secondary hover:text-accent hover:bg-slate-50 rounded-md transition-colors" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button onclick="deleteItem('event-2')" class="p-2 text-text-secondary hover:text-error hover:bg-slate-50 rounded-md transition-colors" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Result Item 4 -->
                    <div class="card p-6 hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                    <span class="text-xs text-text-secondary uppercase tracking-wide">Work Task</span>
                                    <span class="text-xs text-text-secondary">•</span>
                                    <span class="text-xs text-text-secondary">Due: Oct 4, 2025</span>
                                </div>
                                <h4 class="text-lg font-medium text-text-primary mb-2">
                                    Weekly <mark class="bg-yellow-200 px-1 rounded">Project</mark> Status Report
                                </h4>
                                <p class="text-sm text-text-secondary mb-3">
                                    Compile and submit the weekly progress report for all active projects to management.
                                </p>
                                <div class="flex items-center space-x-4 text-xs text-text-secondary">
                                    <span><i class="fas fa-tasks mr-1"></i>Task</span>
                                    <span><i class="fas fa-flag mr-1"></i>Medium Priority</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full bg-success-100 text-success-700">
                                        <i class="fas fa-check mr-1"></i>Completed
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                <button onclick="editItem('task-2')" class="p-2 text-text-secondary hover:text-primary hover:bg-slate-50 rounded-md transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="viewItem('task-2')" class="p-2 text-text-secondary hover:text-accent hover:bg-slate-50 rounded-md transition-colors" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button onclick="deleteItem('task-2')" class="p-2 text-text-secondary hover:text-error hover:bg-slate-50 rounded-md transition-colors" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Result Item 5 -->
                    <div class="card p-6 hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                                    <span class="text-xs text-text-secondary uppercase tracking-wide">Social Event</span>
                                    <span class="text-xs text-text-secondary">•</span>
                                    <span class="text-xs text-text-secondary">Oct 10, 2025 at 8:00 PM</span>
                                </div>
                                <h4 class="text-lg font-medium text-text-primary mb-2">
                                    Movie Night with Friends
                                </h4>
                                <p class="text-sm text-text-secondary mb-3">
                                    Weekly movie night at Sarah's place. This week: watching the latest Marvel movie with pizza and snacks.
                                </p>
                                <div class="flex items-center space-x-4 text-xs text-text-secondary">
                                    <span><i class="fas fa-clock mr-1"></i>3 hours</span>
                                    <span><i class="fas fa-map-marker-alt mr-1"></i>Sarah's House</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full bg-accent-100 text-accent-700">
                                        <i class="fas fa-users mr-1"></i>5 Attendees
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2 ml-4">
                                <button onclick="editItem('event-3')" class="p-2 text-text-secondary hover:text-primary hover:bg-slate-50 rounded-md transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="viewItem('event-3')" class="p-2 text-text-secondary hover:text-accent hover:bg-slate-50 rounded-md transition-colors" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button onclick="deleteItem('event-3')" class="p-2 text-text-secondary hover:text-error hover:bg-slate-50 rounded-md transition-colors" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-8">
                    <button onclick="loadMoreResults()" class="btn-secondary">
                        <i class="fas fa-chevron-down mr-2"></i>Load More Results
                    </button>
                </div>
            </main>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div class="flex items-center space-x-3">
            <div class="flex-shrink-0">
                <i id="toastIcon" class="fas fa-check-circle text-success"></i>
            </div>
            <div>
                <p id="toastMessage" class="text-sm font-medium text-text-primary">Search completed successfully!</p>
            </div>
            <button onclick="hideToast()" class="ml-auto text-text-secondary hover:text-text-primary">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Save Search Modal -->
    <div id="saveSearchModal" class="modal-overlay hidden" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-text-primary">Save Search</h3>
                <button onclick="closeModal()" class="text-text-secondary hover:text-text-primary">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form onsubmit="saveSearch(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-text-primary mb-1">Search Name</label>
                    <input type="text" id="searchName" class="form-input" placeholder="Enter a name for this search..." required />
                </div>
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeModal()" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Save Search</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Search functionality
        function performSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearButton = document.getElementById('clearSearch');
            const suggestions = document.getElementById('searchSuggestions');
            
            if (searchInput.value.length > 0) {
                clearButton.classList.remove('hidden');
                // Show suggestions for demo
                if (searchInput.value.length > 2) {
                    suggestions.classList.remove('hidden');
                }
            } else {
                clearButton.classList.add('hidden');
                suggestions.classList.add('hidden');
            }
            
            // Simulate search results update
            updateResultCount();
            highlightSearchTerms();
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('clearSearch').classList.add('hidden');
            document.getElementById('searchSuggestions').classList.add('hidden');
            updateResultCount();
            removeHighlights();
        }

        function selectSuggestion(term) {
            document.getElementById('searchInput').value = term;
            document.getElementById('searchSuggestions').classList.add('hidden');
            performSearch();
        }

        function handleSearchKeydown(event) {
            if (event.key === 'Escape') {
                document.getElementById('searchSuggestions').classList.add('hidden');
            }
        }

        // Filter functionality
        function applyFilters() {
            updateResultCount();
            showToast('Filters applied successfully', 'success');
        }

        function clearAllFilters() {
            // Reset all checkboxes
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = true);
            
            // Reset date inputs
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            
            // Clear active filters display
            document.getElementById('activeFilters').innerHTML = '';
            
            updateResultCount();
            showToast('All filters cleared', 'info');
        }

        function setDateRange(range) {
            const today = new Date();
            const startDate = document.getElementById('startDate');
            const endDate = document.getElementById('endDate');
            
            switch(range) {
                case 'today':
                    startDate.value = today.toISOString().split('T')[0];
                    endDate.value = today.toISOString().split('T')[0];
                    break;
                case 'week':
                    const weekStart = new Date(today.setDate(today.getDate() - today.getDay()));
                    const weekEnd = new Date(today.setDate(today.getDate() - today.getDay() + 6));
                    startDate.value = weekStart.toISOString().split('T')[0];
                    endDate.value = weekEnd.toISOString().split('T')[0];
                    break;
                case 'month':
                    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);
                    const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                    startDate.value = monthStart.toISOString().split('T')[0];
                    endDate.value = monthEnd.toISOString().split('T')[0];
                    break;
            }
            applyFilters();
        }

        function removeFilter(type, value) {
            // Remove filter logic here
            showToast(`${type} filter removed`, 'info');
            updateResultCount();
        }

        // View toggle functionality
        function changeView(view) {
            const buttons = document.querySelectorAll('.view-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active', 'bg-primary', 'text-white');
                btn.classList.add('text-text-secondary', 'hover:text-primary');
            });
            
            event.target.classList.add('active', 'bg-primary', 'text-white');
            event.target.classList.remove('text-text-secondary', 'hover:text-primary');
            
            showToast(`Switched to ${view} view`, 'info');
        }

        // Sort functionality
        function sortResults() {
            const sortBy = document.getElementById('sortBy').value;
            showToast(`Results sorted by ${sortBy}`, 'info');
        }

        // Result actions
        function editItem(itemId) {
            if (itemId.startsWith('event')) {
                showToast('Event editing has been removed. Use the calendar dashboard to manage events.', 'info');
            } else {
                window.location.href = 'task_management.html';
            }
        }

        function viewItem(itemId) {
            showToast('Opening item details...', 'info');
            // In a real app, this would open a detail modal or navigate to detail page
        }

        function deleteItem(itemId) {
            if (confirm('Are you sure you want to delete this item?')) {
                showToast('Item deleted successfully', 'success');
                // Remove item from DOM
                event.target.closest('.card').remove();
                updateResultCount();
            }
        }

        function completeTask(taskId) {
            showToast('Task marked as complete', 'success');
            // Update task status in DOM
            const taskCard = event.target.closest('.card');
            const statusBadge = taskCard.querySelector('.bg-warning-100');
            if (statusBadge) {
                statusBadge.className = 'inline-flex items-center px-2 py-1 rounded-full bg-success-100 text-success-700';
                statusBadge.innerHTML = '<i class="fas fa-check mr-1"></i>Completed';
            }
        }

        // Saved searches
        function loadSavedSearch(searchId) {
            showToast(`Loaded saved search: ${searchId}`, 'info');
            // Load search criteria and apply filters
        }

        function deleteSavedSearch(searchId, event) {
            event.stopPropagation();
            if (confirm('Delete this saved search?')) {
                event.target.closest('div').remove();
                showToast('Saved search deleted', 'success');
            }
        }

        function saveCurrentSearch() {
            document.getElementById('saveSearchModal').classList.remove('hidden');
            setTimeout(() => {
                document.querySelector('.modal-content').classList.add('show');
            }, 10);
        }

        function saveSearch(event) {
            event.preventDefault();
            const searchName = document.getElementById('searchName').value;
            showToast(`Search "${searchName}" saved successfully`, 'success');
            closeModal();
            document.getElementById('searchName').value = '';
        }

        function closeModal(event) {
            if (event && event.target !== event.currentTarget) return;
            
            document.querySelector('.modal-content').classList.remove('show');
            setTimeout(() => {
                document.getElementById('saveSearchModal').classList.add('hidden');
            }, 300);
        }

        // Utility functions
        function updateResultCount() {
            const count = Math.floor(Math.random() * 50) + 10; // Random count for demo
            document.getElementById('resultCount').textContent = `(${count} items)`;
        }

        function highlightSearchTerms() {
            // This would highlight search terms in results
            // Already implemented in the HTML with <mark> tags for demo
        }

        function removeHighlights() {
            // Remove highlighting from search terms
        }

        function loadMoreResults() {
            showToast('Loading more results...', 'info');
            // In a real app, this would load additional results
        }

        // Toast notifications
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const icon = document.getElementById('toastIcon');
            const messageEl = document.getElementById('toastMessage');
            
            messageEl.textContent = message;
            
            // Set icon based on type
            icon.className = type === 'success' ? 'fas fa-check-circle text-success' :
                           type === 'error' ? 'fas fa-exclamation-circle text-error' :
                           'fas fa-info-circle text-accent';
            
            toast.classList.add('show');
            
            setTimeout(() => {
                hideToast();
            }, 3000);
        }

        function hideToast() {
            document.getElementById('toast').classList.remove('show');
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey || event.metaKey) {
                switch(event.key) {
                    case 'f':
                        event.preventDefault();
                        document.getElementById('searchInput').focus();
                        break;
                    case 'k':
                        event.preventDefault();
                        document.getElementById('searchInput').focus();
                        break;
                }
            }
            
            if (event.key === 'Escape') {
                document.getElementById('searchSuggestions').classList.add('hidden');
                closeModal();
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial view
            const listBtn = document.querySelector('.view-btn');
            listBtn.classList.add('active', 'bg-primary', 'text-white');
            
            // Set current date for date inputs
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            document.getElementById('endDate').value = today;
            
            // Hide suggestions on click outside
            document.addEventListener('click', function(event) {
                const suggestions = document.getElementById('searchSuggestions');
                const searchInput = document.getElementById('searchInput');
                
                if (!suggestions.contains(event.target) && event.target !== searchInput) {
                    suggestions.classList.add('hidden');
                }
            });
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>